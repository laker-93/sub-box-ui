{% extends "/shared/_base.html" %}
{% block content %}
    <header>
        <section class="hero is-primary">
            <div class="hero-body">
                <div class="container">
                    <p>SUBBOX - DJS</p>
                </div>
            </div>
        </section>
    </header>
    <section class="section">
        <div class="container content">
            <h1 class="title is-1">DJ export</h1>
            <p>Export to your DJ software</p>
            <div id="rb-export">
                <h1 class="subtitle is-1">Export</h1>

                <h1 class="subtitle is-3">RekordBox 5</h1>
                <p>Currently only importing from a Rekordbox 5 collection is supported. Tested with Rekordbox 5.8.7.</p>
                <div id="export">
                    <p>
                        export subbox collection to rb.
                    </p>
                </div>
                <p>
                    once you have made changes in sub box (adding more tracks or creating/modifying playlists) export to rekordbox. This will create a zip of your collection in subbox that can be downloaded <a href="upload">here</a>. It also creates an xml of the collection that can be imported in to rekordbox.
                </p>
                <form id="exportform">
                    <div>
                        <label>local root</label>
                        <input type="text" name="local_root" value="<enter-here>">
                        <p>set the local root for where you will extract the zip and xml exported from subbox to on your local machine. For example: `/Users/my_username/music/subbox`</p>
                    </div>
                    <!-- todo do some validation here and only show the progress button iff there are uploaded tracks-->
                    <button class="button is-primary" hx-post="/djs/export/rekordbox" hx-target="#rb-export" hx-indicator="#spinner" hx-swap="outerHTML">
                        Export
                        <img id="spinner" class="htmx-indicator loader" src="/imgs/spin">
                    </button>
                </form>
            </div>
        </div>
    </section>
{% endblock %}