{% extends "/shared/_base.html" %}
{% block content %}
<header>
    <section class="hero is-primary">
        <div class="hero-body">
            <div class="container">
                <p>SUBBOX - PROCESS</p>
            </div>
        </div>
    </section>
</header>
<section class="section">
    <div class="container">
        <div hx-post="/process/beets" hx-swap="outerHTML" hx-trigger="start-track-import from:body" hx-indicator="#spinner">
            <img id="spinner" class="htmx-indicator loader" src="/imgs/spin">
        </div>
        <div id="job-progress" hx-target="this" hx-swap="outerHTML">
            <div id="content">
                <p>
                    Process uploaded music.
                </p>
            </div>
            <p>
                once you have uploaded files, click the process music button. This will sort your music, fetch album art etc.
            </p>
            <!-- todo do some validation here and only show the progress button iff there are uploaded tracks-->
            <button id="start-upload" hx-get="/job/progress" class="button is-primary" hx-vals='{"type": "start-track-import"}'>
                process
            </button>
        </div>

    </div>
</section>
{% endblock %}
